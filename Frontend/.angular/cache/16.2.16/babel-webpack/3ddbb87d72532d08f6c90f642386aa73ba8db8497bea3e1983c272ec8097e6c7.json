{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../service/book.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction ReaderBooksComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0, 11)(1);\n    i0.ɵɵelementStart(2, \"div\", 12)(3, \"a\", 13);\n    i0.ɵɵelement(4, \"img\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 15)(6, \"div\", 16)(7, \"div\", 17);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 18)(10, \"span\", 19);\n    i0.ɵɵtext(11, \"Author : \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 20)(14, \"a\", 21);\n    i0.ɵɵlistener(\"click\", function ReaderBooksComponent_ng_container_2_Template_a_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const book_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.viewBook(book_r2.id));\n    });\n    i0.ɵɵtext(15, \" View Book \");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementContainerEnd()();\n  }\n  if (rf & 2) {\n    const book_r2 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"src\", \"data:image/png;base64,\" + book_r2.bookImage.image, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(book_r2.title);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", book_r2.author.firstName, \"\");\n  }\n}\nfunction ReaderBooksComponent_li_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 6)(1, \"a\", 22);\n    i0.ɵɵlistener(\"click\", function ReaderBooksComponent_li_10_Template_a_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const page_r5 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.onPageChange(page_r5));\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const page_r5 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"active\", page_r5 === ctx_r1.currentPage);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(page_r5);\n  }\n}\nlet ReaderBooksComponent = /*#__PURE__*/(() => {\n  class ReaderBooksComponent {\n    constructor(bookService, router) {\n      this.bookService = bookService;\n      this.router = router;\n      this.bookList = [];\n      this.currentPage = 0;\n      this.pageSize = 10;\n      this.totalPages = 0;\n      this.pages = [];\n    }\n    ngOnInit() {\n      this.loadItems();\n    }\n    loadItems() {\n      this.bookService.getPagedItems(this.currentPage, this.pageSize).subscribe(page => {\n        this.bookList = page.content;\n        console.log(this.bookList);\n        this.totalPages = page.totalPages;\n        this.pages = Array.from({\n          length: this.totalPages\n        }, (_, i) => i + 1);\n        // Log the data after the asynchronous call is complete\n      });\n    }\n\n    onPageChange(newPage) {\n      // Adjust the condition based on your indexing\n      if (newPage >= 1 && newPage - 1 < this.totalPages) {\n        this.currentPage = newPage;\n        this.loadItems();\n      }\n    }\n    viewBook(id) {\n      this.router.navigate(['/viewreader', id]);\n    }\n    static {\n      this.ɵfac = function ReaderBooksComponent_Factory(t) {\n        return new (t || ReaderBooksComponent)(i0.ɵɵdirectiveInject(i1.BookService), i0.ɵɵdirectiveInject(i2.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ReaderBooksComponent,\n        selectors: [[\"app-reader-books\"]],\n        decls: 15,\n        vars: 6,\n        consts: [[1, \"container\", \"mx-auto\", \"flex\", \"flex-row\", \"justify-evenly\", \"items-center\", \"mt-5\"], [1, \"container\", \"mx-auto\", \"flex\", \"flex-wrap\", \"gap-5\", \"justify-center\", \"items-center\"], [\"style\", \"width: 150px;\", 4, \"ngFor\", \"ngForOf\"], [1, \"container\", \"mx-auto\", \"flex\", \"justify-center\", \"items-center\", \"my-4\"], [\"aria-label\", \"Page navigation example\"], [1, \"pagination\"], [1, \"page-item\"], [\"aria-label\", \"Previous\", 1, \"page-link\", 3, \"click\"], [\"aria-hidden\", \"true\"], [\"class\", \"page-item\", 3, \"active\", 4, \"ngFor\", \"ngForOf\"], [\"aria-label\", \"Next\", 1, \"page-link\", 3, \"click\"], [2, \"width\", \"150px\"], [1, \"w-fit\", \"max-w-sm\", \"border\", \"border-gray-200\", \"rounded-lg\", \"shadow\", \"dark:bg-gray-800\", \"dark:border-gray-700\", 2, \"height\", \"350px\"], [\"href\", \"#\", 1, \"h-4/6\"], [\"alt\", \"product image\", 1, \"w-full\", \"h-4/6\", \"rounded-t-lg\", 3, \"src\"], [1, \"h-2/6\", \"flex\", \"flex-col\", \"justify-evenly\"], [1, \"h-2/5\", \"p-3\"], [1, \"h-2/5\", \"pb-3\", \"overflow-wrap\", \"break-word\", \"tracking-tight\", \"text-gray-900\", \"dark:text-white\", 2, \"margin-top\", \"-10px\", \"width\", \"150px\"], [1, \"font-bold\", \"text-gray-900\", \"dark:text-white\"], [1, \"text-blue-500\"], [1, \"flex\", \"h-1/5\", \"p-3\", \"items-center\", \"justify-between\"], [1, \"text-white\", \"bg-blue-700\", \"hover:bg-blue-800\", \"focus:ring-4\", \"focus:outline-none\", \"focus:ring-blue-300\", \"font-medium\", \"rounded-lg\", \"text-sm\", \"px-5\", \"py-2.5\", \"text-center\", \"dark:bg-blue-600\", \"dark:hover:bg-blue-700\", \"dark:focus:ring-blue-800\", 3, \"click\"], [1, \"page-link\", 3, \"click\"]],\n        template: function ReaderBooksComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelement(0, \"div\", 0);\n            i0.ɵɵelementStart(1, \"div\", 1);\n            i0.ɵɵtemplate(2, ReaderBooksComponent_ng_container_2_Template, 16, 3, \"ng-container\", 2);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(3, \"div\", 3)(4, \"nav\", 4)(5, \"ul\", 5)(6, \"li\", 6)(7, \"a\", 7);\n            i0.ɵɵlistener(\"click\", function ReaderBooksComponent_Template_a_click_7_listener() {\n              return ctx.onPageChange(ctx.currentPage - 1);\n            });\n            i0.ɵɵelementStart(8, \"span\", 8);\n            i0.ɵɵtext(9, \"\\u00AB\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵtemplate(10, ReaderBooksComponent_li_10_Template, 3, 3, \"li\", 9);\n            i0.ɵɵelementStart(11, \"li\", 6)(12, \"a\", 10);\n            i0.ɵɵlistener(\"click\", function ReaderBooksComponent_Template_a_click_12_listener() {\n              return ctx.onPageChange(ctx.currentPage + 1);\n            });\n            i0.ɵɵelementStart(13, \"span\", 8);\n            i0.ɵɵtext(14, \"\\u00BB\");\n            i0.ɵɵelementEnd()()()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngForOf\", ctx.bookList);\n            i0.ɵɵadvance(4);\n            i0.ɵɵclassProp(\"disabled\", ctx.currentPage === 1);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngForOf\", ctx.pages);\n            i0.ɵɵadvance(1);\n            i0.ɵɵclassProp(\"disabled\", ctx.currentPage === ctx.totalPages);\n          }\n        },\n        dependencies: [i3.NgForOf]\n      });\n    }\n  }\n  return ReaderBooksComponent;\n})();\nexport { ReaderBooksComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}